<!DOCTYPE html>
<html lang="en">
<head>
    {{ partial "head.html" . }}
</head>
<body>
    <header class="site-header" id="header-container">
        {{ partial "header.html" . }}
    </header>

    <div class="container">
        <div id="content-container">
            {{ block "main" . }}{{ end }}
        </div>

        <footer id="footer-container">
            {{ partial "footer.html" . }}
        </footer>
    </div>

    <!-- Theme toggle script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Setup theme toggle
            const themeToggle = document.querySelector('.theme-toggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const currentTheme = document.documentElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                });
            }
            
            // Remove theme-initializing class to allow transitions
            setTimeout(() => {
                document.documentElement.classList.remove('theme-initializing');
            }, 200);
        });
    </script>
</body>
</html>
